{
    "dbConnectionSettings": {
        "host": "localhost",
        "userName": "root",
        "password": "",
        "name": "anime-db"
    },
    "querySettings": {
        "getTopWatchedAnime": {
            "query": "SELECT animelist.anime_id AS id, animelist.name, animelist.genre AS genre, animelist.type AS type, COUNT(ratinglist.user_id) AS views, animelist.episodes, AVG(ratinglist.rating) AS rating FROM `ratinglist` JOIN animelist ON ratinglist.anime_id = animelist.anime_id GROUP BY ratinglist.anime_id ORDER BY views DESC LIMIT ?",
            "XMLSettings": {
                "groupedNodeName": "anime",
                "rootNodeName": "root"
            }
        },
        "getNumberOfMaleFemaleUsers": {
            "query": "SELECT (SELECT COUNT(ratinglist.user_id) FROM ratinglist WHERE ratinglist.anime_id = ?) AS TotalViewers, (SELECT COUNT(gender) FROM ratinglist JOIN userlist ON userlist.user_id = ratinglist.user_id WHERE userlist.gender = 'Male' AND ratinglist.anime_id = ?) AS Male, (SELECT COUNT(gender) FROM ratinglist JOIN userlist ON userlist.user_id = ratinglist.user_id WHERE userlist.gender = 'Female' AND ratinglist.anime_id = ?) AS Female FROM animelist JOIN ratinglist ON ratinglist.anime_id = animelist.anime_id WHERE ratinglist.anime_id = ? GROUP BY Male",
            "XMLSettings": {
                "groupedNodeName": "gendersUsers",
                "rootNodeName": "root"
            }
        },
        "getTotalNumberOfFemaleViewers": {
            "query": "SELECT COUNT(gender) FROM ratinglist JOIN userlist ON userlist.user_id = ratinglist.user_id WHERE gender = 'Male' AND ratinglist.anime_id = 1",
            "XMLSettings": {
                "groupedNodeName": "gendersUsers",
                "rootNodeName": "root"
            }
        },
        "getTotalNumberOfMaleFemaleUsers": {
            "query": "SELECT count(user_id) AS Total, (SELECT Count(gender)FROM userlist WHERE gender = 'Male') AS Male, (SELECT Count(gender) FROM userlist WHERE  gender = 'Female') AS Female FROM `userlist` GROUP BY Male, Female",
            "XMLSettings": {
                "groupedNodeName": "gendersUsers",
                "rootNodeName": "root"
            }
        },
        "getUsers": {
            "query": "SELECT user_id AS userId, username, birth_date AS birthDate, gender, `location` FROM userlist",
            "XMLSettings": {
                "groupedNodeName": "users",
                "rootNodeName": "root"
            }
        },
        "getUser": {
            "query": "SELECT user_id AS userId, username, birth_date AS birthDate, gender, `location` FROM userlist WHERE user_id = ?",
            "XMLSettings": {
                "groupedNodeName": "user",
                "rootNodeName": "root"
            }
        },
        "getAnimes": {
            "query": "SELECT animelist.anime_id AS id, animelist.name, animelist.genre AS genre, animelist.type AS type, COUNT(ratinglist.user_id) AS views, animelist.episodes, AVG(ratinglist.rating) AS rating FROM `ratinglist` JOIN animelist ON ratinglist.anime_id = animelist.anime_id GROUP BY ratinglist.anime_id",
            "XMLSettings": {
                "groupedNodeName": "anime",
                "rootNodeName": "root"
            }
        },
        "getAnimeOld": {
            "query": "SELECT anime_id AS id, name, genre, type, episodes FROM animelist WHERE anime_id = ?",
            "XMLSettings": {
                "groupedNodeName": "anime",
                "rootNodeName": "root"
            }
        },
        "getAnime": {
            "query": "SELECT animelist.anime_id AS id, animelist.name, animelist.genre AS genre, animelist.type AS TYPE, NULLIF(COUNT(ratinglist.user_id), 0) AS views, animelist.episodes, AVG(ratinglist.rating) AS rating FROM `ratinglist` JOIN animelist ON ratinglist.anime_id = animelist.anime_id WHERE animelist.anime_id = ?",
            "XMLSettings": {
                "groupedNodeName": "anime",
                "rootNodeName": "root"
            }
        },
        "getRatings": {
            "query": "SELECT * FROM `ratinglist` ORDER BY `user_id`",
            "XMLSettings": {
                "groupedNodeName": "anime",
                "rootNodeName": "root"
            }
        },
        "getAnimeRatings": {
            "query": "SELECT * FROM `ratinglist` WHERE `anime_id` = ? AND `rating` > ?",
            "XMLSettings": {
                "groupedNodeName": "anime",
                "rootNodeName": "root"
            }
        },
        "getUserRatings": {
            "query": "SELECT * FROM `ratinglist` WHERE `user_id` = ? AND `rating` > 1",
            "XMLSettings": {
                "groupedNodeName": "anime",
                "rootNodeName": "root"
            }
        },
        "addAnime": {
            "query": "INSERT INTO `animelist`(`name`, `genre`, `type`, `episodes`, `rating`, `members`) VALUES (?,?,?,?,?,?)"
        },
        "updateAnime": {
            "query": "UPDATE `animelist` SET `name`=?,`genre`=?,`type`=?,`episodes`=?,`rating`=?,`members`=? WHERE `anime_id`= ?"
        },
        "deleteAnime": {
            "query": "DELETE FROM `animelist` WHERE `anime_id` = ?;"
        }
    }
}